\documentclass[dvipsnames,a4paper,11pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{a4wide}
\usepackage{amsmath}
\usepackage{todonotes}
\usepackage{xcolor}
\usepackage{amsthm}

\newtheorem{thm}{Theorem}
\newtheorem{prop}{Propery}

\theoremstyle{definition}
\newtheorem{defn}{Definition}

\theoremstyle{remark}
\newtheorem{rmq}{Remark}

\newcommand{\tiph}[1]{\todo[inline,color=Orchid]{#1}}
\newcommand{\pimprenelle}[1]{\todo[inline, color=ForestGreen]{#1}}


\title{Multiplex stream graphs}
\author{Pimprenelle Parmentier, Tiphaine Viard, ...}

\begin{document}
    \maketitle

    \section{Multiplex stream graphs}

	\pimprenelle{Multilayer stream graphs serait peut etre plus général ?}

    We define a multiplex stream graph as a tuple $M = (T,T_M,V,W_M,E_M,{\cal L})$, such that $T$ and $V$ are, respectively, a time interval and a set of nodes, just like in stream graphs. 
    As in multilayer graphs, ${\cal L}$ is a set of $d$ {\em aspects}; ${\cal L} = \{L_i\}_{i=1}^d$, and an element $\alpha_i$ of $L_i$ is named {\em elementary layer}. An element of $L=L_1\times \dots \times L_d$ is named {\em layer}. From those elements, $V_M$ is defined as follows : $V_M = \{ (u,\alpha), u\in V, \alpha \in L\}$ .
    
    
	$T_M$ is a set of intervals of $T$ so for that each layer $\alpha$, $T_{\alpha}$ is the interval at which the layer exists.
		
	$W_M \subseteq T\times V \times (L_1 \times \dots \times L_d)$ represents the existing points on layers with respect to the time. 
   
   $E_M \subseteq T\times V_M \otimes V_M$ are the links appearing with respect to time.

    Notice that just like in multiplex networks, nodes in time ({\em i.e.}, elements of $W_M$) can be present in an arbitrary number of layers.
   	
   	
    From this definition, let us define common streams of interest.
   
	For any layer $\alpha \in L_1 \times \dots \times L_d$, the {\em intra-layer} stream graph $S^{\alpha}$ is the stream $S^{\alpha}=(T^{\alpha},V^{\alpha},W^{\alpha},E^{\alpha})$ such that for all $t$ in T :
	\begin{itemize}
		\item $T^{\alpha} \in T_M$
		\item $V^{\alpha} =\{(u,\alpha),u\in V\} \cap V_M$
		\item $W^{\alpha} =\{(t,u,\alpha),|u\in V, t \in T \} \cap W_M$ 
		\item $E^{\alpha} = \{(t,(u,\alpha),(v,\alpha))| t \in T,(u,v)\in V^2 \} \cap E_M$.		
	\end{itemize}


	For any two layers $\alpha, \beta \in L_1\times \dots\times L_d$, the {\em inter-layer} stream graph is the stream $S^{(\alpha,\beta)} = (T, V^{\alpha,\beta},W^{\alpha,\beta},E^{\alpha,\beta})$ such that :
	\begin{itemize}
		\item $T^{\alpha,\beta}=T^{\alpha}\cap T^{\beta}$
		\item $V^{\alpha,\beta} = \{u,\gamma | u \in V, \gamma \in \{\alpha,\beta\} \} \cap V_M$
		\item $W^{\alpha,\beta}= \{(t,u,\gamma) | u \in V, \gamma \in \{\alpha,\beta\} \} \cap W_M$
	    \item $E^{\alpha,\beta} = \{(t,(u,\alpha),(v,\beta) | u,v \in V\} \cap E_M $
	\end{itemize}
	
	    Notice that for any layer $\alpha$, $S^{(\alpha)}$ is equivalent to $S^{(\alpha,\alpha)}$.
	
	
	The {\em intersection} of two substreams $S_1$ and $S_2$ is defined as follows :
	\[
		S' = S_1 \cap S_2 = (T_1\cap T_2, V_1 \cap V_2, W_1 \cap W_2, E_1\cap E_2) 
	\]
	
	Notice that this intersection is a stream graph too.
	
	The {\em union} of two substreams $S_1$ and $S_2$ is defined as follows :
	\begin{align*}
		S' = S_1 \cup S_2 = (T', V_1 \cup V_2, W_1 \cup W_2, E' \})\\
		T' = [\min(T_1,T_2),\max(T_1,T_2)]\\
		E' = E_1 \cup E_2 \cup (T'\times V_1 \times V_2 \cap E )
	\end{align*}
		 
	Notice that the union of two sub stream graphs gives a stream graph.
	
	\begin{prop}
		\[
			\bigcup_{(\alpha,\beta) \in L^2} S^{(\alpha,\beta)} = S
		\]
	\end{prop}
	
	
    The {\em coupling edges} are $E_C=\{(t,u,\alpha,v,\beta)\in E_M | u=v\}$.
    
    The {\em intra-layer edges} are $E_I = \{(t,u,\alpha,v,\beta) \in E_M | \alpha = \beta \}$
    
    The {\em inter-layer edges} are $\bar{E_I} = E_M\backslash E_I$.
    
   	The {\em multilayer graph at time t} $M_t$ is $M_t = (V_{M,t}, E_{M,t},V_t,{\cal L}_t)$ with : 
    \begin{itemize}
		\item $V_{M,t} = \{(u,\alpha)| (t,u,\alpha)\in W_M\}$
		\item $E_{M,t} = \{(u,\alpha,v,\beta) | (t,u,\alpha,v,\beta) \in E_M\}$
		\item $V_t = {u | (t,u) \in V}$
		\item ${\cal L}_t = {L_i,t}_{i=1}^d, L_{i,t}=(\alpha)_i, t\in T_\alpha$
    \end{itemize}
    
    \begin{rmq}
    	We assume that $\forall (i,t), \; L_{(i,t)} \neq \emptyset$.
    \end{rmq}
	
    Intrication, extensions from stream graphs (inter-density, intra-density, etc.)

    Special case when the multiplex stream can be expressed in clusters of the stream graph.
    
    \section{Intrications (Etranglement)}
    
       
    \section{Isomorphism in multiplex stream graphs}
    \paragraph{}
    In classical graphs, $G$ and $G'$ are isomorphs if we can find $f:V \rightarrow V'$ bijective such as $G_f=G'$,$G_f=(f(V),E_f), E_f={(f(u),f(v)), (u,v) \in E}$.
    \paragraph{}
    Given a stream graph $S=(T,V,W,E)$ and $S'=(T,V,W,E)$ we define $f=(f_t,f_v,f_w,f_e)$ :
    \begin{itemize}
    	\item $f_t(t)=\alpha t + \beta, \alpha > 0$
    	\item $f_v:V\rightarrow V'$ is a bijection.
    	\item $f_w((t,u))=(f_t(t),f_u(u)) \forall (t,u) \in W$
    	\item $f_e((t,u,v))=(f_t(t),f_v(u),f_v(v)) \forall (t,u,v) \in E$
    	\item $f(S)=(f_t(T),f_v(V),f_w(W),f_e(E))$
    \end{itemize}
    
    Two stream graphs $S$ and $S'$ are {\em isomorphs } if we can find $f$ such as $f(S)=S'$.
    Two stream graphs $S$ and $S'$ are {\em sychnronised} if we can find $f$ with $f_t=Id$ and $f(S)=S'$.
    Two stream graphs are {\em shifted} if we can find $f$ with $f_t(t)=t+\beta$ and $f(S)=S'$.
    
    
\end{document}
